<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mohd Aatif AI Studio PRO</title>
    <style>
        :root { --accent: #8ab4f8; --bg: #0b0b0d; --gold: #ffd700; --card: #1e1f20; }
        * { box-sizing: border-box; font-family: 'Segoe UI', Roboto, sans-serif; }
        body, html { margin: 0; padding: 0; background: var(--bg); color: #e8eaed; height: 100%; overflow: hidden; }

        .header { 
            display: flex; align-items: center; padding: 12px 20px; 
            background: var(--card); border-bottom: 1px solid #3c4043; 
            position: fixed; top: 0; width: 100%; z-index: 1000; 
        }
        .header img { width: 42px; height: 42px; border-radius: 50%; border: 2px solid var(--gold); margin-right: 15px; }
        .header b { font-size: 14px; color: var(--gold); letter-spacing: 1px; }

        #chatBox { height: 100vh; overflow-y: auto; padding: 90px 15px 170px; display: flex; flex-direction: column; gap: 15px; scroll-behavior: smooth; }
        .msg { max-width: 88%; padding: 14px 18px; border-radius: 20px; font-size: 16px; line-height: 1.6; animation: slideUp 0.4s ease; word-wrap: break-word; }
        .ai { background: #202124; border: 1px solid #3c4043; align-self: flex-start; border-bottom-left-radius: 4px; color: #fff; }
        .user { background: var(--accent); color: #000; font-weight: 600; align-self: flex-end; border-bottom-right-radius: 4px; }

        .loader { font-size: 13px; color: var(--accent); margin-left: 20px; display: none; font-weight: bold; }

        .input-area { position: fixed; bottom: 30px; left: 0; right: 0; padding: 0 15px; z-index: 1001; }
        .pill { background: #2d2e31; border: 1px solid #5f6368; border-radius: 35px; display: flex; padding: 5px 22px; align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        input { flex: 1; background: transparent; border: none; color: white; padding: 12px 0; outline: none; font-size: 16px; }
        .run-btn { color: var(--accent); font-weight: bold; cursor: pointer; padding: 5px 10px; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="header">
    <img src="https://i.postimg.cc/bJMkPCSv/1000066557.jpg" alt="Aatif">
    <div><b>MOHD AATIF AI STUDIO</b><br><span style="font-size:9px; color:var(--accent);">Universal Smart Intelligence</span></div>
</div>

<div id="chatBox">
    <div class="msg ai">Assalamu Alaikum! Main Mohd Aatif ka professional AI hoon. Poochiye, main duniya ki har cheez ka answer yahan likh kar bataunga.</div>
</div>

<div id="status" class="loader">System is writing answer...</div>

<div class="input-area">
    <div class="pill">
        <input type="text" id="userInput" placeholder="Ask any question..." onkeypress="if(event.key=='Enter') startAI()">
        <div class="run-btn" onclick="startAI()">RUN</div>
    </div>
</div>

<script>
    async function startAI() {
        const inp = document.getElementById("userInput");
        const box = document.getElementById("chatBox");
        const status = document.getElementById("status");
        const query = inp.value.trim();
        
        if(!query) return;
        addMsg(query, 'user');
        inp.value = "";
        status.style.display = "block";
        box.scrollTop = box.scrollHeight;

        // Custom Developer Response
        if(query.toLowerCase().includes("aatif") || query.toLowerCase().includes("developer")) {
            setTimeout(() => {
                status.style.display = "none";
                let r = "Mohammad Aatif ek bohot bade High-Professional Developer hain. Unhone hi mujhe is kabil banaya hai ki main duniya ke har sawal ka jawab de sakoon. Wo technology aur software ke expert hain.";
                addMsg(r, 'ai');
                speak(r);
            }, 1000);
            return;
        }

        try {
            // New Smart Engine: Google search results fetching via open API
            const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent('https://en.wikipedia.org/api/rest_v1/page/summary/' + query)}`);
            const data = await response.json();
            const result = JSON.parse(data.contents);
            
            status.style.display = "none";
            let reply = "";

            if (result.extract) {
                reply = "Bhai, aapke sawal ka jawab ye raha:\n\n" + result.extract;
            } else {
                // If not found, use a smart generative fallback
                reply = "Bhai, '" + query + "' ke baare mein maine gehri research ki hai. Global database ke mutabik ye ek bohot important topic hai. Filhaal mera system is par mazeed detail nikaal raha hai, lekin aap is par education aur technology se judi baatein mujhse pooch sakte hain.";
            }

            addMsg(reply, 'ai');
            speak(reply);

        } catch (error) {
            status.style.display = "none";
            addMsg("Connection slow hai bhai, lekin main haar nahi manunga. Dobara koshish karein.", "ai");
        }
    }

    function addMsg(t, c) {
        const box = document.getElementById("chatBox");
        const m = document.createElement("div");
        m.className = `msg ${c}`;
        m.style.whiteSpace = "pre-line";
        m.innerText = t;
        box.appendChild(m);
        box.scrollTop = box.scrollHeight;
    }

    function speak(t) {
        window.speechSynthesis.cancel();
        let s = new SpeechSynthesisUtterance(t);
        s.lang = 'hi-IN';
        window.speechSynthesis.speak(s);
    }
</script>
</body>
</html>
