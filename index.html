<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mohd Aatif AI Studio</title>
    <style>
        :root { --blue: #8ab4f8; --bg: #0b0b0d; --card: #1e1f20; --gold: #ffd700; }
        * { box-sizing: border-box; }
        body, html { margin: 0; padding: 0; background: var(--bg); color: #e8eaed; font-family: sans-serif; height: 100%; overflow: hidden; }

        /* Mobile Header: DP hamesha samne dikhegi */
        .app-header { 
            display: flex; 
            align-items: center; 
            padding: 10px 15px; 
            background: var(--card); 
            border-bottom: 1px solid #3c4043; 
            position: fixed; 
            top: 0; width: 100%; z-index: 1000; 
        }
        .header-dp { width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--gold); object-fit: cover; margin-right: 12px; }
        .header-info b { color: var(--gold); font-size: 14px; display: block; }
        .header-info span { font-size: 9px; color: var(--blue); text-transform: uppercase; }

        /* Chat Display: Keyboard ke liye space chhoda hai */
        #chatDisplay { 
            height: 100vh; 
            overflow-y: auto; 
            padding: 80px 15px 150px; /* Neeche extra space taaki box na chhupre */
            display: flex; 
            flex-direction: column; 
            gap: 15px; 
        }
        .msg { max-width: 85%; padding: 12px; border-radius: 12px; font-size: 15px; line-height: 1.4; }
        .ai-msg { background: rgba(255,255,255,0.05); border: 1px solid #3c4043; align-self: flex-start; }
        .user-msg { background: var(--blue); color: #000; align-self: flex-end; font-weight: bold; }

        /* Search Box: Mobile keyboard ke upar dikhega */
        .input-area { 
            position: fixed; 
            bottom: 20px; /* Isko thoda upar rakha hai */
            left: 0; right: 0; 
            padding: 10px 15px; 
            background: linear-gradient(transparent, var(--bg) 20%);
            z-index: 1000;
        }
        .pill { 
            background: #2a2b2e; 
            border: 1px solid #444; 
            border-radius: 25px; 
            display: flex; 
            align-items: center; 
            padding: 5px 20px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
        }
        input { flex: 1; background: transparent; border: none; color: white; padding: 10px 0; outline: none; font-size: 16px; }
        .send-btn { color: var(--blue); font-weight: bold; cursor: pointer; padding-left: 10px; }

        /* Scanner Screen */
        #scanner { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 2000; display: none; flex-direction: column; align-items: center; justify-content: center; }
        .camera-box { width: 250px; height: 250px; border: 3px solid var(--blue); border-radius: 20px; overflow: hidden; position: relative; }
        .line { position: absolute; width: 100%; height: 3px; background: var(--blue); box-shadow: 0 0 15px var(--blue); animation: scan 2s infinite linear; }
        @keyframes scan { 0% {top: 0;} 100% {top: 100%;} }
    </style>
</head>
<body>

<div id="scanner">
    <div class="camera-box"><div class="line"></div><video id="vid" autoplay muted playsinline style="width:100%; height:100%; object-fit:cover;"></video></div>
    <h3 style="color:var(--blue); margin-top:20px;">VERIFYING MASTER...</h3>
</div>

<div class="app-header">
    <img src="https://i.postimg.cc/bJMkPCSv/1000066557.jpg" class="header-dp">
    <div class="header-info">
        <b>MOHD AATIF AI STUDIO</b>
        <span>Professional Smart System</span>
    </div>
</div>

<div id="chatDisplay">
    <div class="msg ai-msg">Assalamu Alaikum! I am the Official AI Studio of Mohd Aatif. Identity verification required.</div>
</div>

<div class="input-area">
    <div class="pill">
        <input type="text" id="userInput" placeholder="Identify yourself..." onkeypress="if(event.key=='Enter') run()">
        <div class="send-btn" onclick="run()">RUN</div>
    </div>
</div>

<script>
    let verified = false;

    function run() {
        const i = document.getElementById("userInput");
        const val = i.value.trim().toLowerCase();
        if(!val) return;

        addMsg(i.value, 'user-msg');

        if (val.includes("aatif") || val.includes("i am mohd aatif")) {
            openScanner();
        } else if (verified) {
            masterReply(val);
        } else {
            const m = "ACCESS DENIED. Only Master Aatif can access this system.";
            addMsg(m, 'ai-msg');
            speak(m);
        }
        i.value = "";
        window.scrollTo(0, document.body.scrollHeight);
    }

    function openScanner() {
        const s = document.getElementById("scanner");
        s.style.display = "flex";
        navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
            document.getElementById("vid").srcObject = stream;
            setTimeout(() => {
                s.style.display = "none";
                stream.getTracks().forEach(t => t.stop());
                verified = true;
                const m = "IDENTITY MATCHED. Assalamu Alaikum Aatif Bhai! How can I help you today?";
                addMsg(m, 'ai-msg');
                speak(m);
            }, 4000);
        });
    }

    function masterReply(q) {
        let r = "I am processing your command, Master Aatif.";
        if(q.includes("song") || q.includes("gana")) r = "Master, strictly educational mode is ON. No songs allowed. Please listen to Naat Sharif.";
        addMsg(r, 'ai-msg');
        speak(r);
    }

    function addMsg(text, type) {
        const d = document.getElementById("chatDisplay");
        d.innerHTML += `<div class="msg ${type}">${text}</div>`;
        d.scrollTop = d.scrollHeight;
    }

    function speak(t) {
        window.speechSynthesis.cancel();
        let s = new SpeechSynthesisUtterance(t);
        s.lang = 'hi-IN';
        window.speechSynthesis.speak(s);
    }
</script>
</body>
</html>
