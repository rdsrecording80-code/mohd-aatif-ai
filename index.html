<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mohd Aatif AI Studio PRO</title>
    <style>
        :root { --blue: #8ab4f8; --bg: #0b0b0d; --card: #1e1f20; --gold: #ffd700; }
        * { box-sizing: border-box; }
        body, html { margin: 0; padding: 0; background: var(--bg); color: #e8eaed; font-family: sans-serif; height: 100%; overflow: hidden; }

        /* Header Fix */
        .app-header { display: flex; align-items: center; padding: 10px 15px; background: var(--card); border-bottom: 1px solid #3c4043; position: fixed; top: 0; width: 100%; z-index: 1000; }
        .header-dp { width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--gold); object-fit: cover; margin-right: 12px; }
        .header-info b { color: var(--gold); font-size: 14px; display: block; }

        /* Chat Display: Space for Keyboard */
        #chatDisplay { height: 100vh; overflow-y: auto; padding: 80px 15px 180px; display: flex; flex-direction: column; gap: 15px; }
        .msg { max-width: 85%; padding: 12px; border-radius: 12px; font-size: 15px; line-height: 1.5; word-wrap: break-word; }
        .ai-msg { background: rgba(255,255,255,0.05); border: 1px solid #3c4043; align-self: flex-start; }
        .user-msg { background: var(--blue); color: #000; align-self: flex-end; font-weight: bold; }

        /* Search Box - Keyboard Friendly */
        .input-area { position: fixed; bottom: 45px; left: 0; right: 0; padding: 10px 15px; z-index: 1001; }
        .pill { background: #2a2b2e; border: 1px solid #555; border-radius: 25px; display: flex; padding: 5px 20px; box-shadow: 0 -5px 25px rgba(0,0,0,0.8); }
        input { flex: 1; background: transparent; border: none; color: white; padding: 12px 0; outline: none; font-size: 16px; }
        .run-btn { color: var(--blue); font-weight: bold; cursor: pointer; padding-left: 10px; }

        /* Scanner Screen */
        #scanner { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 2000; display: none; flex-direction: column; align-items: center; justify-content: center; }
        .camera-box { width: 250px; height: 250px; border: 3px solid var(--blue); border-radius: 20px; overflow: hidden; position: relative; }
        .line { position: absolute; width: 100%; height: 3px; background: var(--blue); box-shadow: 0 0 15px var(--blue); animation: scan 2s infinite linear; }
        @keyframes scan { 0% {top: 0;} 100% {top: 100%;} }
        
        .search-btn { display: inline-block; margin-top: 10px; padding: 8px 15px; background: var(--gold); color: #000; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 13px; }
    </style>
</head>
<body>

<div id="scanner">
    <div class="camera-box"><div class="line"></div><video id="vid" autoplay muted playsinline style="width:100%; height:100%; object-fit:cover;"></video></div>
    <h3 style="color:var(--blue); margin-top:20px;">MASTER VERIFICATION...</h3>
</div>

<div class="app-header">
    <img src="https://i.postimg.cc/bJMkPCSv/1000066557.jpg" class="header-dp">
    <div class="header-info">
        <b>MOHD AATIF AI STUDIO</b>
        <span>Professional Smart System</span>
    </div>
</div>

<div id="chatDisplay">
    <div class="msg ai-msg">Assalamu Alaikum! I am the Official AI Studio of Mohd Aatif. I can answer your questions online. (Master verification only for special commands).</div>
</div>

<div class="input-area">
    <div class="pill">
        <input type="text" id="userInput" placeholder="Ask me anything..." onkeypress="if(event.key=='Enter') run()">
        <div class="run-btn" onclick="run()">RUN</div>
    </div>
</div>

<script>
    let isVerified = false;

    function run() {
        const inp = document.getElementById("userInput");
        const val = inp.value.trim();
        if(!val) return;

        addMsg(val, 'user-msg');
        let lowerVal = val.toLowerCase();

        // 1. Master Logic (Camera scan only when identity is claimed)
        if (lowerVal.includes("mohd aatif") || lowerVal.includes("aatif hoon")) {
            openScanner();
        } 
        // 2. Already Verified Master commands
        else if (isVerified) {
            handleMaster(lowerVal);
        } 
        // 3. Public Logic: Online Search
        else {
            handlePublic(val);
        }

        inp.value = "";
    }

    function openScanner() {
        const s = document.getElementById("scanner");
        s.style.display = "flex";
        navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
            document.getElementById("vid").srcObject = stream;
            setTimeout(() => {
                s.style.display = "none";
                stream.getTracks().forEach(t => t.stop());
                isVerified = true;
                const m = "IDENTITY MATCHED. Assalamu Alaikum Aatif Bhai! Master mode activated. I am now your personal studio assistant.";
                addMsg(m, 'ai-msg');
                speak(m);
            }, 3500);
        });
    }

    function handleMaster(q) {
        let r = "Aatif Bhai, I am processing your high-level command.";
        if(q.includes("software")) r = "Software status: All systems are running at maximum efficiency, Master.";
        addMsg(r, 'ai-msg');
        speak(r);
    }

    function handlePublic(q) {
        // AI directly provides online search button to everyone
        let r = `I am searching for information about "${q}". <br><br> <a href="https://www.google.com/search?q=${q}" target="_blank" class="search-btn">üåê VIEW ONLINE ANSWER</a>`;
        addMsg(r, 'ai-msg');
        speak("Searching online knowledge base.");
    }

    function addMsg(text, type) {
        const d = document.getElementById("chatDisplay");
        const m = document.createElement("div");
        m.className = `msg ${type}`;
        m.innerHTML = text;
        d.appendChild(m);
        d.scrollTop = d.scrollHeight;
    }

    function speak(t) {
        window.speechSynthesis.cancel();
        let s = new SpeechSynthesisUtterance(t);
        s.lang = 'hi-IN';
        window.speechSynthesis.speak(s);
    }
</script>
</body>
</html>
